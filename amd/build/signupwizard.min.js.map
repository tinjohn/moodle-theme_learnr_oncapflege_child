{"version":3,"file":"signupwizard.min.js","sources":["../src/signupwizard.js"],"sourcesContent":["export const init = () => {\n    // Create the pagination div and its contents\n    const paginationHTML = `\n    <div class=\"pagination\">\n    <a class=\"btn btn-primary hidden\" id=\"prev\"><<</a>\n    <a class=\"btn btn-primary\" id=\"next\">>></a>\n    </div>\n    `;\n\n    // Get a reference to the first form element in the document\n    const form = document.querySelector('form');\n\n    // Append the pagination HTML to the form\n    form.insertAdjacentHTML('beforeend', paginationHTML);\n    // other option.\n    // const targetElement = document.querySelector('#fgroup_id_buttonar');\n\n    // if (targetElement) {\n    //   // Create a new div element to contain the content\n    //   const newDiv = document.createElement('div');\n    //   newDiv.innerHTML = paginationHTML;\n    //   // Insert the new div before the target element\n    //   targetElement.parentNode.insertBefore(newDiv, targetElement);\n    // }\n\n    // // Create the tab status HTML\n    // const tabStatusHTML = `\n    // <div class=\"tab-status\">\n    // <span class=\"tab active\">1</span>\n    // <span class=\"tab\">2</span>\n    // <span class=\"tab\">3</span>\n    // </div>\n    // `;\n\n\n\n\n    const previousButton = document.querySelector('#prev');\n    const nextButton = document.querySelector('#next');\n//    const submitButton = document.querySelector('#submit');\n    const tabPanels1 = form.querySelectorAll('form > div.form-group');\n    const tabPanels2 = form.querySelectorAll('form > fieldset');\n    const tabPanels = Array.from(tabPanels1).concat(Array.from(tabPanels2));\n\n    const isEmpty = (str) => !str.trim().length;\n    let currentStep = 0;\n    const steps = [4, 8, 10, tabPanels.length - 1];\n\n    // Create the tab status HTML\n    var tabStatusHTML = `\n    <div class=\"tab-status\">\n        <span class=\"tab active\">1</span>\n    `;\n    for(var sc = 2; sc < steps.length; sc++) {\n    tabStatusHTML += `\n        <span class=\"tab\">` + sc + `</span>\n    `;\n    }\n    // Create the tab status HTML\n    tabStatusHTML += `\n    </div>\n    `;\n    // Append the pagination HTML to the form\n    form.insertAdjacentHTML('beforebegin', tabStatusHTML);\n\n    const tabTargets = document.querySelectorAll('.tab');\n\n    for(var i=steps[currentStep]+1; i< tabPanels.length; i++) {\n        tabPanels[i].classList.add('hidden');\n    }\n    // for(var j =0 ; j <= steps[currentStep + 1]; j++) {\n    //     tabPanels[j].classList.remove('hidden');\n    // }\n\n    // Next: Change UI relative to the current step and account for button permissions\n    nextButton.addEventListener('click', (event) => {\n        // Prevent default on links\n        event.preventDefault();\n        // Hide current tab\n        for(var i = 0 ; i <= steps[currentStep]; i++) {\n            window.console.log('hide' + tabPanels[i] + 'step' + steps[currentStep] + 'div' +  i + '----');\n            tabPanels[i].classList.add('hidden');\n        }\n        tabTargets[currentStep].classList.remove('active');\n        // Show next tab\n        for(i=steps[currentStep]+1; i <= steps[currentStep + 1]; i++) {\n            window.console.log('show' + tabPanels[i] + 'step' + steps[currentStep + 1] + 'div' + i + '+++++');\n            tabPanels[i].classList.remove('hidden');\n        }\n        currentStep += 1;\n        tabTargets[currentStep].classList.add('active');\n        //validateEntry();\n        updateStatusDisplay();\n    });\n\n    // Previous: Change UI relative to current step and account for button permissions\n    previousButton.addEventListener('click', (event) => {\n        event.preventDefault();\n        // Hide current tab\n        for(var i = 0; i < tabPanels.length; i++) {\n            window.console.log('hide' + tabPanels[i] + 'div' + i + '----');\n            tabPanels[i].classList.add('hidden');\n        }\n        tabTargets[currentStep].classList.remove('active');\n        // Show previous tab\n        if (currentStep < 2) {\n            var start = -1;\n        }  else {\n            var start = steps[currentStep - 2];\n        }\n        for(i = start + 1; i <= steps[currentStep -1]; i++) {\n            tabPanels[i].classList.remove('hidden');\n            window.console.log('show' + tabPanels[i] +  'step' + steps[currentStep - 1] + 'div' + i + '+++++');\n\n        }\n        tabTargets[currentStep - 1].classList.add('active');\n        currentStep -= 1;\n        nextButton.removeAttribute('disabled');\n        updateStatusDisplay();\n    });\n\n/**\n * updateStatusDisplay\n * @returns {any}\n */\n  function updateStatusDisplay() {\n    // If on the last step, hide the next button and show submit\n    if (currentStep === tabTargets.length - 1) {\n      nextButton.classList.add('hidden');\n      previousButton.classList.remove('hidden');\n      //submitButton.classList.remove('hidden');\n      validateEntry();\n      // If it's the first step hide the previous button\n    } else if (currentStep == 0) {\n      nextButton.classList.remove('hidden');\n      previousButton.classList.add('hidden');\n      //submitButton.classList.add('hidden');\n      // In all other instances display both buttons\n    } else {\n      nextButton.classList.remove('hidden');\n      previousButton.classList.remove('hidden');\n      //submitButton.classList.add('hidden');\n    }\n  }\n\n\n/**\n * Description\n * @returns {any}\n */\n  function validateEntry() {\n    let input = tabPanels[currentStep].querySelector('input');\n    // Start but disabling continue button\n    nextButton.setAttribute('disabled', true);\n    //submitButton.setAttribute('disabled', true);\n    // Validate on initial function fire\n    setButtonPermissions(input);\n    // Validate on input\n    input.addEventListener('input', () => setButtonPermissions(input));\n    // Validate if bluring from input\n    input.addEventListener('blur', () => setButtonPermissions(input));\n  }\n\n/**\n * Description\n * @param {any} input\n * @returns {any}\n */\n  function setButtonPermissions(input) {\n    if (isEmpty(input.value)) {\n      nextButton.setAttribute('disabled', true);\n      //submitButton.setAttribute('disabled', true);\n    } else {\n      nextButton.removeAttribute('disabled');\n      //submitButton.removeAttribute('disabled');\n    }\n  }\n};"],"names":["form","document","querySelector","insertAdjacentHTML","previousButton","nextButton","tabPanels1","querySelectorAll","tabPanels2","tabPanels","Array","from","concat","currentStep","steps","length","tabStatusHTML","sc","tabTargets","i","classList","add","updateStatusDisplay","remove","input","setAttribute","setButtonPermissions","addEventListener","validateEntry","value","trim","removeAttribute","event","preventDefault","window","console","log","start"],"mappings":"kKAAoB,WAUVA,KAAOC,SAASC,cAAc,QAGpCF,KAAKG,mBAAmB,+KAwBlBC,eAAiBH,SAASC,cAAc,SACxCG,WAAaJ,SAASC,cAAc,SAEpCI,WAAaN,KAAKO,iBAAiB,yBACnCC,WAAaR,KAAKO,iBAAiB,mBACnCE,UAAYC,MAAMC,KAAKL,YAAYM,OAAOF,MAAMC,KAAKH,iBAGvDK,YAAc,QACZC,MAAQ,CAAC,EAAG,EAAG,GAAIL,UAAUM,OAAS,WAGxCC,gGAIIC,GAAK,EAAGA,GAAKH,MAAMC,OAAQE,KACnCD,eAAiB,+BACSC,mBAI1BD,oCAIAhB,KAAKG,mBAAmB,cAAea,qBAEjCE,WAAajB,SAASM,iBAAiB,YAEzC,IAAIY,EAAEL,MAAMD,aAAa,EAAGM,EAAGV,UAAUM,OAAQI,IACjDV,UAAUU,GAAGC,UAAUC,IAAI,mBAyDxBC,sBAEHT,cAAgBK,WAAWH,OAAS,GACtCV,WAAWe,UAAUC,IAAI,UACzBjB,eAAegB,UAAUG,OAAO,yBAsB9BC,MAAQf,UAAUI,aAAaX,cAAc,SAEjDG,WAAWoB,aAAa,YAAY,GAGpCC,qBAAqBF,OAErBA,MAAMG,iBAAiB,SAAS,IAAMD,qBAAqBF,SAE3DA,MAAMG,iBAAiB,QAAQ,IAAMD,qBAAqBF,SA7BxDI,IAEwB,GAAff,aACTR,WAAWe,UAAUG,OAAO,UAC5BnB,eAAegB,UAAUC,IAAI,YAI7BhB,WAAWe,UAAUG,OAAO,UAC5BnB,eAAegB,UAAUG,OAAO,oBA4B3BG,qBAAqBF,OAChBA,MAAMK,MA7HYC,OAAOf,OAiInCV,WAAW0B,gBAAgB,YAH3B1B,WAAWoB,aAAa,YAAY,GA/FtCpB,WAAWsB,iBAAiB,SAAUK,QAElCA,MAAMC,qBAEF,IAAId,EAAI,EAAIA,GAAKL,MAAMD,aAAcM,IACrCe,OAAOC,QAAQC,IAAI,OAAS3B,UAAUU,GAAK,OAASL,MAAMD,aAAe,MAASM,EAAI,QACtFV,UAAUU,GAAGC,UAAUC,IAAI,cAE/BH,WAAWL,aAAaO,UAAUG,OAAO,UAErCJ,EAAEL,MAAMD,aAAa,EAAGM,GAAKL,MAAMD,YAAc,GAAIM,IACrDe,OAAOC,QAAQC,IAAI,OAAS3B,UAAUU,GAAK,OAASL,MAAMD,YAAc,GAAK,MAAQM,EAAI,SACzFV,UAAUU,GAAGC,UAAUG,OAAO,UAElCV,aAAe,EACfK,WAAWL,aAAaO,UAAUC,IAAI,UAEtCC,yBAIJlB,eAAeuB,iBAAiB,SAAUK,QACtCA,MAAMC,qBAEF,IAAId,EAAI,EAAGA,EAAIV,UAAUM,OAAQI,IACjCe,OAAOC,QAAQC,IAAI,OAAS3B,UAAUU,GAAK,MAAQA,EAAI,QACvDV,UAAUU,GAAGC,UAAUC,IAAI,aAE/BH,WAAWL,aAAaO,UAAUG,OAAO,UAErCV,YAAc,MACVwB,OAAS,OAETA,MAAQvB,MAAMD,YAAc,OAEhCM,EAAIkB,MAAQ,EAAGlB,GAAKL,MAAMD,YAAa,GAAIM,IAC3CV,UAAUU,GAAGC,UAAUG,OAAO,UAC9BW,OAAOC,QAAQC,IAAI,OAAS3B,UAAUU,GAAM,OAASL,MAAMD,YAAc,GAAK,MAAQM,EAAI,SAG9FD,WAAWL,YAAc,GAAGO,UAAUC,IAAI,UAC1CR,aAAe,EACfR,WAAW0B,gBAAgB,YAC3BT"}