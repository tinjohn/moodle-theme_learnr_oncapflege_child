define("theme_oncapflege/signupwizard",["exports","core_form/events"],(function(_exports,_events){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{function fieldValidationFailedListener(e){const message=e.detail.message;if(""!=message){!function(message){const listItem=document.createElement("li");listItem.textContent=message,listItem.classList.add("nodecoration"),errorSummaryUl.appendChild(listItem)}(message);document.querySelector("#formerrorssummary").classList.remove("hidden")}}function refreshErrorsummary(){document.querySelector("#formerrorssummary").classList.add("hidden"),function(){const ul=document.querySelector("#formerrorssummary ul");for(;ul.firstChild;)ul.removeChild(ul.firstChild)}()}const form=document.querySelector("form"),signup=document.querySelector("div.signupform");signup.insertAdjacentHTML("beforeend",'\n    <div class="pagination">\n    <a class="btn hidden" id="prev"><i class="fa fa-chevron-circle-left" aria-hidden="true"></i></a>\n    <a class="btn " id="next"><i class="fa fa-chevron-circle-right" aria-hidden="true"></i>    </a>\n    <a class="btn hidden" id="refresh"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n    </div>\n    ');const errorSummaryUl=document.querySelector("#formerrorssummary ul");document.querySelector('input[type="submit"]').addEventListener("click",(()=>{form.removeEventListener(_events.eventTypes.formFieldValidationFailed,fieldValidationFailedListener),refreshErrorsummary(),form.addEventListener(_events.eventTypes.formFieldValidationFailed,fieldValidationFailedListener)}));const refreshButton=document.querySelector("#refresh"),previousButton=document.querySelector("#prev"),nextButton=document.querySelector("#next"),tabPanels1=form.querySelectorAll("form > div.form-group"),tabPanels2=form.querySelectorAll("form > fieldset"),tabPanels=Array.from(tabPanels1).concat(Array.from(tabPanels2));let currentStep=0;const steps=[4,8,10,11,tabPanels.length-1];for(var tabStatusHTML='\n    <div class="tab-status">\n        <span class="tab active">1</span>\n    ',sc=2;sc<steps.length;sc++)tabStatusHTML+='\n        <span class="tab">'+sc+"</span>\n    ";tabStatusHTML+='\n    <span class="helppix"></span>\n    </div>\n    ',signup.insertAdjacentHTML("beforebegin",tabStatusHTML);const tabTargets=document.querySelectorAll(".tab");for(var i=steps[currentStep]+1;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");function updateStatusDisplay(){currentStep===tabTargets.length-1?(nextButton.classList.add("hidden"),previousButton.classList.remove("hidden"),refreshButton.classList.remove("hidden"),function(){let input=tabPanels[currentStep].querySelector("input");nextButton.setAttribute("disabled",!0),setButtonPermissions(input),input.addEventListener("input",(()=>setButtonPermissions(input))),input.addEventListener("blur",(()=>setButtonPermissions(input)))}()):0==currentStep?(nextButton.classList.remove("hidden"),previousButton.classList.add("hidden"),refreshButton.classList.add("hidden")):(nextButton.classList.remove("hidden"),previousButton.classList.remove("hidden"),refreshButton.classList.add("hidden"))}function setButtonPermissions(input){input.value.trim().length?nextButton.removeAttribute("disabled"):nextButton.setAttribute("disabled",!0)}nextButton.addEventListener("click",(event=>{event.preventDefault();for(var i=0;i<=steps[currentStep];i++)tabPanels[i].classList.add("hidden");for(tabTargets[currentStep].classList.remove("active"),i=steps[currentStep]+1;i<=steps[currentStep+1];i++)tabPanels[i].classList.remove("hidden");currentStep+=1,tabTargets[currentStep].classList.add("active"),updateStatusDisplay()})),previousButton.addEventListener("click",(event=>{event.preventDefault();for(var i=0;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");if(tabTargets[currentStep].classList.remove("active"),currentStep<2)var start=-1;else start=steps[currentStep-2];for(i=start+1;i<=steps[currentStep-1];i++)tabPanels[i].classList.remove("hidden");tabTargets[currentStep-1].classList.add("active"),currentStep-=1,nextButton.removeAttribute("disabled"),updateStatusDisplay()})),refreshButton.addEventListener("click",(()=>{!function(){tabTargets[currentStep].classList.remove("active"),currentStep=0;for(var i=steps[currentStep]+1;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");for(i=0;i<=steps[currentStep];i++)tabPanels[i].classList.remove("hidden");tabTargets[currentStep].classList.add("active"),updateStatusDisplay(),refreshErrorsummary()}()}))}}));

//# sourceMappingURL=signupwizard.min.js.map