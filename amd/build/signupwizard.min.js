define("theme_oncapflege/signupwizard",["exports","core_form/events"],(function(_exports,_events){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=strs=>{function fieldValidationFailedListener(e){const message=e.detail.message;if(""!=message){!function(message){const listItem=document.createElement("li");listItem.textContent=message,listItem.classList.add("nodecoration"),errorSummaryUl.appendChild(listItem)}(message);document.querySelector("#formerrorssummary").classList.remove("hidden")}}function refreshErrorsummary(){document.querySelector("#formerrorssummary").classList.add("hidden"),function(){const ul=document.querySelector("#formerrorssummary ul");for(;ul.firstChild;)ul.removeChild(ul.firstChild)}()}const paginationHTML='\n    <div class="pagination">\n    <a class="btn hidden" id="prev" title="'+strs[0]+'"><i class="fa fa-chevron-circle-left" aria-hidden="true"></i></a>\n    <a class="btn" id="next" title="'+strs[1]+'"><i class="fa fa-chevron-circle-right" aria-hidden="true"></i>    </a>\n    <a class="btn hidden" id="refresh" title="'+strs[2]+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n    </div>\n    ',form=document.querySelector("form"),signup=document.querySelector("div.signupform");signup.insertAdjacentHTML("beforeend",paginationHTML);const errorSummaryUl=document.querySelector("#formerrorssummary ul");document.querySelector('input[type="submit"]').addEventListener("click",(()=>{form.removeEventListener(_events.eventTypes.formFieldValidationFailed,fieldValidationFailedListener),refreshErrorsummary(),form.addEventListener(_events.eventTypes.formFieldValidationFailed,fieldValidationFailedListener)}));const refreshButton=document.querySelector("#refresh"),previousButton=document.querySelector("#prev"),nextButton=document.querySelector("#next"),tabPanels=form.querySelectorAll("form > *"),fieldsets=form.querySelectorAll("form > fieldset");let currentStep=0;for(var x=1;x<tabPanels.length;x++)window.console.log(tabPanels[x]);var steps=[];steps=fieldsets.length>1?[6,10]:[5,9];for(let x=1;x<fieldsets.length;x++)steps.push(10+x);steps.push(tabPanels.length-1);for(var tabStatusHTML='\n    <div class="tab-status">\n        <span class="tab active">1</span>\n    ',sc=2;sc<=steps.length;sc++)tabStatusHTML+='\n        <span class="tab">'+sc+"</span>\n    ";tabStatusHTML+='\n    <span class="helppix"></span>\n    </div>\n    ',signup.insertAdjacentHTML("beforebegin",tabStatusHTML);const tabTargets=document.querySelectorAll(".tab");for(var i=steps[currentStep]+1;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");function updateStatusDisplay(){currentStep===tabTargets.length-1?(nextButton.classList.add("hidden"),previousButton.classList.remove("hidden"),refreshButton.classList.remove("hidden")):0==currentStep?(nextButton.classList.remove("hidden"),previousButton.classList.add("hidden"),refreshButton.classList.add("hidden")):(nextButton.classList.remove("hidden"),previousButton.classList.remove("hidden"),refreshButton.classList.add("hidden"))}nextButton.addEventListener("click",(event=>{event.preventDefault();for(var i=0;i<=steps[currentStep];i++)tabPanels[i].classList.add("hidden");for(tabTargets[currentStep].classList.remove("active"),i=steps[currentStep]+1;i<=steps[currentStep+1];i++)tabPanels[i].classList.remove("hidden");currentStep+=1,tabTargets[currentStep].classList.add("active"),updateStatusDisplay()})),previousButton.addEventListener("click",(event=>{event.preventDefault();for(var i=0;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");if(tabTargets[currentStep].classList.remove("active"),currentStep<2)var start=-1;else start=steps[currentStep-2];for(i=start+1;i<=steps[currentStep-1];i++)tabPanels[i].classList.remove("hidden");tabTargets[currentStep-1].classList.add("active"),currentStep-=1,nextButton.removeAttribute("disabled"),updateStatusDisplay()})),refreshButton.addEventListener("click",(()=>{!function(){tabTargets[currentStep].classList.remove("active"),currentStep=0;for(var i=steps[currentStep]+1;i<tabPanels.length;i++)tabPanels[i].classList.add("hidden");for(i=0;i<=steps[currentStep];i++)tabPanels[i].classList.remove("hidden");tabTargets[currentStep].classList.add("active"),updateStatusDisplay(),refreshErrorsummary()}()}))}}));

//# sourceMappingURL=signupwizard.min.js.map